{"version":3,"sources":["Sound/soundFile.wav","Logo/cat.svg","Logo/Logo.js","Sound/Sound.js","Playfield/Playfield.js","Game/Game.js","index.js"],"names":["module","exports","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","d","strokeLinejoin","stroke","strokeLinecap","strokeWidth","_ref3","fill","_ref4","_ref5","_ref6","_ref7","_ref8","_ref","svgRef","title","props","viewBox","ref","ForwardRef","forwardRef","LogoElement","styled","div","attrs","style","transform","Math","round","positionX","positionY","widthValue","heightValue","colourValue","Logo","width","height","colours","changeColours","useState","colour","setColour","prevChangeColours","useRef","getRandomColor","prevColour","newColours","filter","colourEntry","random","useEffect","current","Sound","playSound","soundIsPlaying","setSoundIsPlaying","playSoundPrev","oldplaySoundValue","window","setTimeout","autoPlay","src","soundFile","type","PlayfieldWrapper","Playfield","state","changeDeltaX","changeDeltaY","soundIsDisabled","maxRandomness","updatePosition","bind","setPosition","context","loop","subscribe","unsubscribe","playfieldWidth","playfieldHeight","isPastLeftBoundary","isPastRightBoundary","isPastTopBoundary","isPastBottomBoundary","undefined","playfield","getBoundingClientRect","widthBB","heightBB","randomChangeDeltaX","randomChangeDeltaY","setState","previousState","isPaused","newChangeDeltaX","newChangeDeltaY","abs","isCollidingWithBoundaries","upperRandomBound","lowerRandomBound","element","Component","contextTypes","PropTypes","object","GameWrapper","Game","isRunning","setIsRunning","uid","keyValue","setKeyValue","gameResizeObserver","wrapperDomElement","handleResize","debouncedResizeHandler","debounce","resizeObserverIsSupported","ResizeObserver","isFirstTime","entries","gameHasResized","some","entry","observe","addEventListener","unobserve","removeEventListener","onClick","GlobalStyles","createGlobalStyle","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c9aead14.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/soundFile.61bf12c2.wav\";","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M27.6 20.468l33.291 176.56c-25.782 43.408-40.424 93.001-40.424 145.65 0 170.698 153.612 309.13 343.014 309.13s343.314-138.432 343.314-309.13c0-51.001-14.048-99.068-38.344-141.488l33.29-176.267-140.3 65.096c-55.923-35.652-124.3-56.773-197.964-56.773-71.515 0-137.92 19.725-192.909 53.503L27.634 20.468z\",\n  strokeLinejoin: \"round\",\n  stroke: \"#fff\",\n  strokeLinecap: \"round\",\n  strokeWidth: 40.9398\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M27.6 20.468l33.291 176.56c-25.782 43.408-40.424 93.001-40.424 145.65 0 170.698 153.612 309.13 343.014 309.13s343.314-138.432 343.314-309.13c0-51.001-14.048-99.068-38.344-141.488l33.29-176.267-140.3 65.096c-55.923-35.652-124.3-56.773-197.964-56.773-71.515 0-137.92 19.725-192.909 53.503L27.634 20.468z\",\n  strokeLinejoin: \"round\",\n  stroke: \"#000\",\n  strokeLinecap: \"round\",\n  strokeWidth: 27.1430874,\n  fill: \"currentColor\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M203.457 460.98c4.913 37.194 27.016 75.295 76.094 76.094 65.228 1.077 118.616-69.994 134.296-119.729-35.881-5.191-71.76-4.908-107.645-1.597 15.686 47.343 71.072 120.445 125.529 121.325 52.244.845 70.198-33.504 76.093-76.093\",\n  strokeLinejoin: \"round\",\n  stroke: \"#000\",\n  strokeLinecap: \"round\",\n  strokeWidth: 19.023360399999998,\n  fill: \"none\"\n});\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M298.659 311.96c-13.149 29.225-47.5 42.257-76.724 29.109s-42.257-47.5-29.109-76.724 47.5-42.257 76.724-29.108 42.257 47.5 29.109 76.724z\"\n});\n\nvar _ref6 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M283.686 294.838c-5.209 11.575-18.815 16.737-30.39 11.53s-16.739-18.815-11.53-30.391 18.814-16.738 30.39-11.53 16.738 18.815 11.53 30.39z\",\n  fill: \"#fff\"\n});\n\nvar _ref7 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M536.86 311.476c-13.148 29.224-47.5 42.257-76.724 29.108s-42.257-47.5-29.108-76.724 47.5-42.256 76.724-29.108 42.256 47.5 29.108 76.724z\"\n});\n\nvar _ref8 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M521.887 294.351c-5.208 11.576-18.815 16.738-30.39 11.53s-16.738-18.815-11.53-30.39 18.814-16.739 30.39-11.53 16.738 18.814 11.53 30.39z\",\n  fill: \"#fff\"\n});\n\nvar SvgCat = function SvgCat(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 727.27 672.28\",\n    ref: svgRef\n  }, props), React.createElement(\"title\", null, title), _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgCat, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/cat.935cf524.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useEffect, useState, useRef } from 'react';\n\nimport PropTypes from 'prop-types';\nimport random from 'lodash.random';\nimport styled from 'styled-components/macro';\n\nimport { ReactComponent as CatLogo } from './cat.svg';\n\nconst LogoElement = styled.div.attrs(props => ({\n  style: { transform: `translate(${Math.round(props.positionX)}px, ${Math.round(props.positionY)}px)` },\n}))`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: ${props => `${props.widthValue}px`};\n  height: ${props => `${props.heightValue}px`};\n  will-change: transform;\n  color: ${props => `${props.colourValue}`};\n`;\n\nconst Logo = ({ positionX, positionY, width, height, colours, changeColours }) => {\n  const [colour, setColour] = useState(colours[0]);\n  const prevChangeColours = useRef(false);\n\n  const getRandomColor = (prevColour) => {\n    const newColours = colours.filter(colourEntry => colourEntry !== prevColour);\n    const randomColourIndex = random(newColours.length - 1);\n    const newColour = newColours[randomColourIndex];\n\n    return newColour;\n  };\n\n  useEffect(() => {\n    if (changeColours && changeColours !== prevChangeColours.current) {\n      setColour(getRandomColor);\n    }\n\n    prevChangeColours.current = changeColours;\n  }, [changeColours, getRandomColor]);\n\n  return (\n    <LogoElement\n      positionX={ positionX }\n      positionY={ positionY }\n      widthValue={ width }\n      heightValue={ height }\n      colourValue= { colour }\n    >\n      <CatLogo />\n    </LogoElement>\n  );\n};\n\nLogo.propTypes = {\n  positionX: PropTypes.number,\n  positionY: PropTypes.number,\n  width: PropTypes.number,\n  height: PropTypes.number,\n  colours: PropTypes.arrayOf(PropTypes.string),\n  changeColours: PropTypes.bool,\n};\n\nexport default Logo;\n","import React, { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport soundFile from './soundFile.wav';\n\nconst Sound = ({ playSound }) => {\n  const [soundIsPlaying, setSoundIsPlaying] = useState(false);\n  const playSoundPrev = useRef(false);\n\n  const activateSound = () => {\n    if (soundIsPlaying) {\n      return;\n    }\n\n    setSoundIsPlaying(true);\n\n    window.setTimeout(() => {\n      setSoundIsPlaying(false);\n    }, 800);\n  };\n\n  useEffect(() => {\n    let { current: oldplaySoundValue } = playSoundPrev;\n\n    if (playSound === oldplaySoundValue) {\n      return;\n    }\n\n    activateSound();\n    oldplaySoundValue = playSound;\n  }, [playSound, soundIsPlaying]);\n\n  if (!soundIsPlaying) {\n    return null;\n  }\n\n  return (\n    <>\n      { soundIsPlaying && (\n        <audio autoPlay>\n          <source src={ soundFile } type=\"audio/wav\" />\n        </audio>\n      )};\n    </>\n  );\n};\n\n\nSound.propTypes = {\n  playSound: PropTypes.bool,\n};\n\nexport default Sound;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport random from 'lodash.random';\nimport styled from 'styled-components/macro';\n\nimport Logo from '../Logo/Logo';\nimport Sound from '../Sound/Sound';\n\nconst PlayfieldWrapper = styled.div`\n  position: relative;\n  height: 100%;\n  width: 100%;\n  pointer-events: none;\n`;\n\nclass Playfield extends Component {\n  static contextTypes = {\n    loop: PropTypes.object,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      width: 150,\n      height: 138, // AR 0,92\n      changeDeltaX: 2,\n      changeDeltaY: 2,\n      colours: ['white', 'red', 'blue', 'yellow', 'fuchsia', 'lime'],\n      soundIsDisabled: true,\n      maxRandomness: 5,\n    };\n\n    this.updatePosition = this.updatePosition.bind(this);\n  }\n\n  componentDidMount() {\n    this.setPosition();\n\n    this.context.loop.subscribe(this.updatePosition);\n  }\n\n  componentWillUnmount() {\n    this.context.loop.unsubscribe(this.updatePosition);\n  }\n\n  isPastLeftBoundary() {\n    const { positionX } = this.state;\n\n    return positionX <= 0;\n  }\n\n  isPastRightBoundary() {\n    const { positionX, width, playfieldWidth } = this.state;\n\n    return positionX >= (playfieldWidth - width);\n  }\n\n  isPastTopBoundary() {\n    const { positionY } = this.state;\n\n    return positionY <= 0;\n  }\n\n  isPastBottomBoundary() {\n    const { positionY, height, playfieldHeight } = this.state;\n\n    return positionY >= (playfieldHeight - height);\n  }\n\n  isCollidingWithBoundaries() {\n    return this.isPastLeftBoundary() || this.isPastRightBoundary()\n      || this.isPastTopBoundary() || this.isPastBottomBoundary();\n  }\n\n  setPosition() {\n    if (this.playfield === undefined) {\n      return;\n    }\n\n    const { width: widthBB, height: heightBB } = this.playfield.getBoundingClientRect();\n    const { changeDeltaX, changeDeltaY } = this.state;\n\n    const randomChangeDeltaX = random(1) === 0 ? changeDeltaX * -1 : changeDeltaX * +1;\n    const randomChangeDeltaY = random(1) === 0 ? changeDeltaY * -1 : changeDeltaY * +1;\n\n    this.setState(previousState => ({\n      playfieldWidth: widthBB,\n      playfieldHeight: heightBB,\n      positionX: random(widthBB - previousState.width),\n      positionY: random(heightBB - previousState.height),\n      changeDeltaX: randomChangeDeltaX,\n      changeDeltaY: randomChangeDeltaY,\n    }));\n  }\n\n  updatePosition() {\n    if (this.props.isPaused) {\n      return;\n    }\n\n    const { changeDeltaX, changeDeltaY, maxRandomness } = this.state;\n\n    let newChangeDeltaX = changeDeltaX;\n    let newChangeDeltaY = changeDeltaY;\n\n    if (this.isPastLeftBoundary()) {\n      newChangeDeltaX = Math.abs(changeDeltaX);\n    }\n\n    if (this.isPastRightBoundary()) {\n      newChangeDeltaX = Math.abs(changeDeltaX) * -1;\n    }\n\n    if (this.isPastTopBoundary()) {\n      newChangeDeltaY = Math.abs(changeDeltaY);\n    }\n\n    if (this.isPastBottomBoundary()) {\n      newChangeDeltaY = Math.abs(changeDeltaY) * -1;\n    }\n\n    if (this.isCollidingWithBoundaries()) {\n      const upperRandomBound = 1.0 + (maxRandomness / 2 / 100);\n      const lowerRandomBound = 1.0 - (maxRandomness / 2 / 100);\n\n      newChangeDeltaX *= random(lowerRandomBound, upperRandomBound, true);\n      newChangeDeltaY *= random(lowerRandomBound, upperRandomBound, true);\n    }\n\n    this.setState(previousState => ({\n      positionX: previousState.positionX + newChangeDeltaX,\n      positionY: previousState.positionY + newChangeDeltaY,\n      changeDeltaX: newChangeDeltaX,\n      changeDeltaY: newChangeDeltaY,\n    }));\n  }\n\n  render() {\n    return (\n      <PlayfieldWrapper ref={ (element) => { this.playfield = element; } }>\n        <Logo\n          positionX={ this.state.positionX }\n          positionY={ this.state.positionY }\n          width={ this.state.width }\n          height={ this.state.height }\n          colours={ this.state.colours }\n          changeColours={ this.isCollidingWithBoundaries() }\n        />\n        <Sound playSound={ this.isCollidingWithBoundaries() && !this.state.soundIsDisabled } />\n      </PlayfieldWrapper>\n    );\n  }\n}\n\nPlayfield.propTypes = {\n  isPaused: PropTypes.bool,\n};\n\nexport default Playfield;\n","import React, { useState, useRef, useEffect } from 'react';\n\nimport uid from 'uid';\nimport styled from 'styled-components/macro';\nimport { Loop } from 'react-game-kit';\nimport debounce from 'lodash.debounce';\n\nimport Playfield from '../Playfield/Playfield';\n\nconst GameWrapper = styled.div`\n  width: 100vw;\n  height: 100vh;\n  transition: filter 0.15s ease-in-out;\n  cursor: pointer;\n\n  ${props => (props.isPaused ? 'filter: opacity(0.25)' : 'filter: opacity(1)')};\n`;\n\nconst Game = () => {\n  const [isRunning, setIsRunning] = useState(true);\n  const [keyValue, setKeyValue] = useState(() => uid(4));\n  const gameResizeObserver = useRef({});\n  const wrapperDomElement = useRef(null);\n\n  const togglePlayState = () => setIsRunning(!isRunning);\n\n  const reset = () => setKeyValue(() => uid(4));\n\n  const handleResize = () => reset();\n\n  // setup resize/intersection observer\n  useEffect(() => {\n    const debouncedResizeHandler = debounce(handleResize, 300);\n    const resizeObserverIsSupported = !(window.ResizeObserver === undefined);\n\n    if (resizeObserverIsSupported) {\n      let isFirstTime = true; // ignore inital call on page load\n\n      gameResizeObserver.current = new window.ResizeObserver((entries) => {\n        const gameHasResized = entries.some(entry => (entry.target === wrapperDomElement.current));\n\n        if (isFirstTime) {\n          isFirstTime = false;\n          return;\n        }\n\n        if (gameHasResized) {\n          debouncedResizeHandler();\n        }\n      });\n      gameResizeObserver.current.observe(wrapperDomElement.current);\n    } else {\n      window.addEventListener('resize', debouncedResizeHandler);\n    }\n\n    return () => {\n      if (resizeObserverIsSupported) {\n        gameResizeObserver.current.unobserve(wrapperDomElement.current);\n      } else {\n        window.removeEventListener('resize', debouncedResizeHandler);\n      }\n    };\n  }, []);\n\n\n  return (\n    <Loop>\n      <GameWrapper\n        isPaused={ !isRunning }\n        onClick={ togglePlayState }\n        ref={ (element) => { wrapperDomElement.current = element; } }\n      >\n        <Playfield isPaused={ !isRunning } key={ keyValue } />\n      </GameWrapper>\n    </Loop>\n  );\n};\n\nexport default Game;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { createGlobalStyle } from 'styled-components/macro';\n\nimport Game from './Game/Game';\n\nconst GlobalStyles = createGlobalStyle`\n  *,\n  *:before,\n  *:after {\n    box-sizing: inherit;\n  }\n\n  html {\n    box-sizing: border-box;\n    background-color: #000;\n    font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\",\n      \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\",\n      sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  body {\n    margin: 0;\n    padding: 0;\n    overflow: hidden;\n  }\n`;\n\nconst App = () => (\n  <>\n    <GlobalStyles />\n    <Game />\n  </>\n);\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}